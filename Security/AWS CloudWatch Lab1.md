# Monitoring Infrastructure

Monitoring requirements range from collecting statistics for long-term analysis to quickly reacting to changes and outages.
Monitoring can also support compliance reporting by continuously checking that infrastructure is meeting organizational standards.

In this lab I demonstrate how to use Amazon CloudWatch Metrics, Amazon CloudWatch Logs, Amazon CloudWatch Events, and AWS Config to monitor my applications and infrastructure.

## Objectives 

Use the AWS Systems Manager Run Command to install the CloudWatch agent on Amazon Elastic Compute Cloud (Amazon EC2) instances

Monitor application logs using CloudWatch agent and CloudWatch Logs

Monitor system metrics using CloudWatch agent and CloudWatch Metrics

Create real time notifications using CloudWatch Events

Track infrastructure compliance using AWS Config


## Installing the CloudWatch agent

### Architectural diagram

<img width="2391" height="926" alt="image" src="https://github.com/user-attachments/assets/899db78f-c6e9-415f-9f21-da5cc67e8412" />

I used Systems Manager to install the CloudWatch agent on an EC2 instance. 
I configured it to collect both application and system metrics
<img width="556" height="476" alt="image" src="https://github.com/user-attachments/assets/19a85912-0752-43e0-b1f4-d2d1d0354bcc" />


Step execution skipped due to unsatisfied preconditions: '"StringEquals": [platformType, Windows]'. Step name: createDownloadFolder

AWS cloudWatch agent

<img width="624" height="478" alt="image" src="https://github.com/user-attachments/assets/88cf6637-00fe-4025-b623-58c08855c569" />



## Monitoring application logs using CloudWatch Logs

I generated log data on the Web Server and then monitor the logs using CloudWatch Logs.

### Architectural diagram

<img width="2391" height="799" alt="image" src="https://github.com/user-attachments/assets/e18ea55f-3b51-4b5d-819a-9dd06b307d01" />


Observe the access records generated by cloudWatch 

<img width="660" height="460" alt="image" src="https://github.com/user-attachments/assets/cdd744c8-cabd-43fc-beca-3fe15986675a" />


Observe Log events where a user tried to access a web page but was not found

<img width="654" height="472" alt="image" src="https://github.com/user-attachments/assets/10bcaa16-c93a-495b-9468-2bd9ea67e626" />


## Create a metric filter in CloudWatch Logs

I now configure a filter to identify 404 Errors in the log file. This error would normally indicate that the web server is generating invalid links that users are choosing.

<img width="643" height="425" alt="image" src="https://github.com/user-attachments/assets/077537d2-96d3-481a-923a-76b55cc768ad" />


SNS alarm works perfectly

<img width="1159" height="502" alt="image" src="https://github.com/user-attachments/assets/b69bde86-8e27-49db-a389-af9a3ded2118" />

